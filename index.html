<html>
<head>
  <title>Editor.js example page</title>

  <style>
    body {
      font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }
  </style>
</head>
<body>
  <div id="editorjs"></div>

  <button id="save-button">Save</button>
  <pre id="output"></pre>

  <script type="module">
    import EditorJS from '@editorjs/editorjs';
    import NftTool from './src/index.ts';

    const editor = new EditorJS({
      tools: {
        nft: {
          class: NftTool,
          config: {
            endpoint: 'http://localhost:3000/alchemy',
          }
        },
      },
      data: {
        blocks: [,
          {
            type: 'nft',
            data: {
              network: 'matic',
              contractAddress: '0x6c97ef47d60b35f858ad04c4b4f649747e00a417',
              tokenId: '351806',
            },
          },
          {
            type: "paragraph",
            data: {
                text: "Try to paste here an Opensea link item. Here is an example:"
            }
          },
          {
            type: 'nft',
            data: {
              network: 'ethereum',
              contractAddress: '0x306b1ea3ecdf94ab739f1910bbda052ed4a9f949',
              tokenId: '12064',
            },
          },
          {
            type: 'nft',
            data: {
              network: 'matic',
              contractAddress: '0xdb46d1dc155634fbc732f92e853b10b288ad5a1d',
              tokenId: '110345',
            },
          },
          {
            type: 'nft',
            data: {
              network: 'matic',
              contractAddress: '0x2953399124f0cbb46d2cbacd8a89cf0599974963',
              tokenId: '27508654227906241564419332982039817529724726748582189982095461861793269284865',
            },
          },
          {
            type: 'nft',
            data: {
              network: 'matic',
              contractAddress: '0x200fb6e28edf0fbc9b5fabf7d39ae583981f5038',
              tokenId: '32',
            },
          }
        ],
      },
    });

    const saveButton = document.getElementById('save-button');
    const output = document.getElementById('output');

    saveButton.addEventListener('click', () => {
      editor.save().then( savedData => {
        output.innerHTML = JSON.stringify(savedData, null, 4);
      })
    })
  </script>
